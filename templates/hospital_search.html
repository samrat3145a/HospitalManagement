{% extends 'base.html' %}
{% block content%}

{% load static %}

<link rel="stylesheet" href="{% static 'hospital_search.css' %}" />

<div class="container">
    <div class="col-12">
        <h1 style="text-align: center;margin-top: 10px;margin-bottom: 10px;"><Strong>Search Hospital</Strong></h1><br>
    </div>
    <div class="mb-5">
        <form class="form-inline my-2 my-lg-0">
            <div class="ui grid col-12">
                <div class="six wide column col-12">
                    <div class="ui search" style="text-align: center;margin-top: 10px;margin-bottom: 10px;">
                        <div class="ui icon input col-6">
                            <input id="search-bar" type="text" autoComplete="off" value=""
                                placeholder="Search Hospital Name or Pincode" tabindex="0" class="prompt" />
                            <i aria-hidden="true" class="search icon" style="right: 5%;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div style="height:100px">
            <table id="search-table" class="ui celled padded table my-4">
                <thead class="">
                    <tr class="">
                        <th class="single line">Name</th>
                        <th class="">Open Time</th>
                        <th class="">Close Time</th>
                        <th class="">Pincode</th>
                        <th class="">Email</th>
                        <th class="">Address</th>
                        <th class="">Phone No</th>
                    </tr>
                </thead>
                <tbody class="">
                    {% for m in hospital_list %}
                    <tr class="">
                        <td class="">
                            <h4 class="single line center aligned header" style="font-weight:600;">{{m.Hospital_Name}}</h4>
                        </td>
                        <td class="single line" style="color:blue;">{{m.open_time}}</td>
                        <td class="single line" style="color:red;">{{m.close_time}}</td> 
                        <td class="single line">{{m.pincode}}</td>
                        <td class="" style="font-size:15px; font-weight:600;">{{m.email}}</td>
                        <td class="" style="font-size:15px; font-weight:600;">{{m.address}}</td>
                        <td class="single line">{{m.phoneNo}}</td>
                    </tr>
                    {% endfor %}




                     {% comment %} {% for m in hospital_list %}
                   <div class="card" style="width: 30rem; font-weight:700;">
                       <img class="card-img-top" style="width:80%; margin:2%;padding-left:10%;" src="{% static 'img/logo.png' %}" alt="Card image cap">
                          <div class="card-body">
                             <h1 class="card-title" style="font-weight:700;">{{m.Hospital_Name}}</h5>
                        <p class="card-text" style="color:green;">Open Time : {{m.open_time}}<span style="padding-left:12%;color:red;">Close Time : {{m.close_time}}</span></p>
                        <p class="card-text"></p>
                        <p class="card-text">Pincode : {{m.pincode}}</p>
                        <p class="card-text">Email : {{m.email}}</p>
                        <p class="card-text">Address : {{m.address}}</p>
                        <p class="card-text"><small class="text-muted">{{m.phoneNo}}</small></p>
  </div>
</div>

                    
                     {% endfor %} {% endcomment %}



                </tbody>
            </table>
        </div>
    </div>
</div>
<script>
    $('#search-bar').keyup(function (e) {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("search-bar");
        filter = input.value.toUpperCase();
        table = document.getElementById("search-table");
        tr = table.getElementsByTagName("tr");

        for (i = 0; i < tr.length; i++) {
            let name = tr[i].getElementsByTagName("td")[0];
            let pincode = tr[i].getElementsByTagName("td")[3];
            if (name || pincode) {
                txtValue1 = name.textContent || name.innerText;
                txtValue2 = pincode.textContent || pincode.innerText;
                if (txtValue1.toUpperCase().indexOf(filter) > -1 || txtValue2.toUpperCase().indexOf(filter) > -
                    1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }

    });
</script>
{% endblock %}<script>
